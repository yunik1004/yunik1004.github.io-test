# .travis.yml
language: node_js

os:
  - linux

addons:
  chrome: stable

node_js:
  - "10"

branches:
  only:
    - code

before_install:
  - # start your web application and listen on `localhost`
  - google-chrome-stable --headless --disable-gpu --remote-debugging-port=9222 http://localhost &

install:
  - npm install

script:
  # Test
  - npm run test:e2e
  - npm run test:unit

after_success:
  # Set git config
  - git config --global user.email "yunik1004@gmail.com"
  - git config --global user.name "yunik1004"
  # Deploy to master branch
  - npm run build
  - git checkout master
  - git commit
  - git push -u origin master
